<!--
  ~ Copyright (c) 2004-2022 The MZmine Development Team
  ~
  ~ Permission is hereby granted, free of charge, to any person
  ~ obtaining a copy of this software and associated documentation
  ~ files (the "Software"), to deal in the Software without
  ~ restriction, including without limitation the rights to use,
  ~ copy, modify, merge, publish, distribute, sublicense, and/or sell
  ~ copies of the Software, and to permit persons to whom the
  ~ Software is furnished to do so, subject to the following
  ~ conditions:
  ~
  ~ The above copyright notice and this permission notice shall be
  ~ included in all copies or substantial portions of the Software.
  ~
  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  ~ EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  ~ OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  ~ NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  ~ HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  ~ WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  ~ FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  ~ OTHER DEALINGS IN THE SOFTWARE.
  -->

<html>
	<head>
		<title>Identification - Spectral DB search</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" type="text/css" href="/net/sf/mzmine/desktop/impl/helpsystem/HelpStyles.css">
    </head>

<body>

<h1>Spectral DB search</h1>

<h2>Description</h2>
<p>
Run on any feature list to match all rows against a local spectral library (formats: MoNA json, NIST msp, GNPS json (internal library submission format), JCAMP-DX jdx).
</p>


<h4>Method parameters</h4>
<dl>
<dt>Peaklist</dt>
	<dd>Select any peaklist</dd>
<dt>Masslist</dt>
	<dd>Masslist of scans</dd>
<dt>Spectral libraries</dt>
	<dd>json/msp from MoNA (MassBank of North America)</dd>
	<dd>msp NIST format</dd>
	<dd>JCAMP-DX jdx</dd>
	<dd>mgf format from GNPS</dd>
<dd>json GNPS (format from the spectral DB submission module)</dd>
	<dt>MS level</dt>
	<dd>Set MS level to "1" to compare MS1 spectra (e.g. GC-EI-MS data) or set it to "2" or higher for MS/MS scans</dd>
<dt>Check all scans (only for MS2)</dt>
	<dd>Either use all MS2 scans or only the most intense MS2 scan. This only applies to MS2 spectral matching.</dd>	
<dt>Precursor m/z tolerance </dt>
	<dd>Only used for MS level > 1. Filter all library entries by precursor m/z. </dd>	
<dt>13C deisotoping </dt>
	<dd>Deletes 13C isotope signals in the query and library mass spectra</dd>	
	<dd>Monotonic shape: Especially, for small molecules. 13C isotope pattern with first signal as the most abundant</dd>	
<dt>Min matched isotope signals</dt>
	<dd>Minimum number of "isotope" signals that need to be matched in the query and library scan. Searches for putative: </dd>
	<dd>13C signals </dd>
	<dd>-H (M+ to M+H+) and -2H signals </dd>
	<dd>Cl isotope signals </dd>
<dt>Crop spectra to m/z overlap </dt>
	<dd>Only match signals that fall within the overlapping m/z range of both spectra (bounds are expanded by spectral m/z tolerance))</dd>	
<dt>Spectral m/z tolerance </dt>
	<dd>Tolerance to match signals in the two spectra (library and query) </dd>	
<dt>Retention time tolerance</dt>
	<dd>Optional: Only used if the DB entry has a retention time</dd>
<dt>Noise level</dt>
	<dd>An additional noise level for masslists (masslists are typically already thresholded)</dd>
<dt>Minimum matched signals</dt>
	<dd>Minimum number of signals within m/z tolerance in a masslist and the spectral library entry</dd>
<dt>Similarity</dt>
	<dd>Different similarity functions to match query and library spectra</dd>
</dl>

</body>
</html>
